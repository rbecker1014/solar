<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SDG&E Usage</title>
    <style>
      body { font-family: system-ui, Arial, sans-serif; padding: 16px; }
      table { border-collapse: collapse; margin-top: 12px; }
      th, td { border: 1px solid #ccc; padding: 6px 8px; }
      th { background: #f6f6f6; }
    </style>
  </head>
  <body>
    <h2>SDG&E Days Present per Month</h2>
    <div id="results"></div>

    <script>
      const ENDPOINT = "https://script.google.com/macros/s/AKfycbwMS3F3h57llbmz0SQ59OPk6E-xunGw8W3bZ6PTJkJj7dA1T28hBNE_vfqYrjls0pVz/exec";

      function render(headers, rows) {
        const thead = "<tr>" + headers.map(h => `<th>${h}</th>`).join("") + "</tr>";
        const tbody = rows.map(r => "<tr>" + r.map(v => `<td>${v}</td>`).join("") + "</tr>").join("");
        document.getElementById('results').innerHTML =
          `<table><thead>${thead}</thead><tbody>${tbody}</tbody></table>`;
      }

      (async () => {
        try {
          const res = await fetch(ENDPOINT);
          const { headers, rows } = await res.json();
          render(headers, rows);
        } catch (err) {
          document.getElementById('results').textContent = "Error: " + err.message;
        }
      })();
    </script>
  </body>
</html>
